/*!  shopdc ../cdn/modules/common/pc/js/utils| Date:2020-11-05 17:19:21 */
!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="../shopdc/assets/",t(t.s=51)}({30:function(e,t){!function(e){e.ams||(e.ams={}),ams.commonNewPrize=function(e,t){utils.ajaxOpenAPI({type:"POST",url:"/ams/prize/commonPrize",data:e,success:function(e){t&&t(e)}})}}(window)},31:function(e,t){!function(e,t,n){var t,i,a,s=e.locale.utilsBox,l=!0,r={boxid:"ol_box",boxclass:"ol_box",type:"dialog",title:"",faceType:"",iconType:"",width:0,height:0,showTitle:!0,showButton:!0,showCancel:!0,showOk:!0,cancelBtnName:s.cancelBtnName,okBtnName:s.okBtnName,timeout:0,draggable:!1,modal:!0,zIndex:9999,remember:!1,position:"center",clickOut:null,onclose:null,onopen:null,oncancel:null,onok:null,blur:null,focus:null,autoHeight:!0,autoPosition:!0,cache:!1},c=function(){return"CSS1Compat"==document.compatMode?document.documentElement:document.body},p=function(){var e=c();return{width:Math.max(e.scrollWidth,e.clientWidth||0)-1,height:Math.max(e.scrollHeight,e.clientHeight||0)-1}},d={};d.dialog={html:'<div><div class="box-ct">   <div class="box-header">       <div class="box-tl"></div>       <div class="box-tc">           <div class="box-tc1"></div>           <div class="box-tc2"><a href="javascript:;" onclick="return false;"  class="box-close"></a><span class="box-title"></span></div>       </div>       <div class="box-tr"></div>   </div>   <table width="100%" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed;">       <tr>           <td class="box-cl"></td>           <td class="box-cc">               <div class="box-content"></div>               <div class="box-button">                   <a class="box-cancel" href="javascript:;"><span>取消</span></a>                   <a class="box-ok" href="javascript:;"><span>确定</span></a>               </div>           </td>           <td class="box-cr"></td>       </tr>   </table>   <div class="box-bottom">       <div class="box-bl"></div>       <div class="box-bc"></div>       <div class="box-br"></div>   </div></div></div>',initContent:function(e){e.setContent(e.content)},setContent:function(e,t,o){e.content=t||e.content,e.setContent(e.content),"function"==typeof o&&o()}},d.ajax={initContent:function(e){},setContent:function(e,o,n){e._b_button.hide(),e.setContent('<div class="box-loading"></div>'),e._b_content.height()<90&&e._b_content.height(Math.max(90,e.options.height)),e._box.width()<200&&e._box.width(Math.max(200,e.options.width));var i=o||e.content;if("string"!=typeof i)return void alert("please set ajax url.");e.content=i,!1===e.options.cache&&(-1==i.indexOf("?")?i+="?_t="+(new Date).getTime():i+="&_t="+(new Date).getTime()),t.get(i,function(t){e.options.showButton&&e._b_button.show(),e.setContent(t),"function"==typeof n&&n()})}},d.iframe={initContent:function(e){},setContent:function(e,t,o){var n=t||e.content;if("string"!=typeof n)return void alert("please set iframe url.");e.content=n;var i="box-iframe-"+(new Date).getTime();e.setContent('<iframe class="boxIframe" width="100%" height="100%" frameborder="0" name="'+i+'"></iframe><script>window["'+i+'"].location.href="'+n+'";<\/script>'),"function"==typeof o&&o()},closeEvent:function(e){e.options.remember||e.find("iframe").each(function(){this.contentWindow.close(),jQuery(this).remove()})}},utils.box=function(o,n){this.options=null,this._type=null,this._mask=null,this._events={},this._box=null,this._b_content=null,this._b_button=null,this.content=o,this._initedContent=!1,this._onbox=!1,this._isOpen=!1,t=jQuery,i=t(e),a=t(document),l=!1,this.options=t.extend({},r,n),this.init()},utils.box.prototype={init:function(){this.initConfig(),this.options.modal&&this.initMask(),this.initBox(),this.initEvent()},initBox:function(){t("#"+this.options.boxid).remove(),this._box=t(this._type.html).css({visibility:"hidden",position:"absolute",top:0,left:0,zIndex:this.options.zIndex}),this._b_button=this._box.find(".box-button"),this._b_content=this._box.find(".box-content"),this.renderBox(this.options),this._box.appendTo("body"),this._type.initContent(this)},initConfig:function(){switch(this.options.type){case"ajax":this._type=d.ajax;break;case"iframe":this._type=d.iframe;break;default:this._type=d.dialog}this._type=t.extend({},d.dialog,this._type)},initEvent:function(){var t=this;this.options.draggable&&this.options.showTitle?this._box.find(".box-header").mousedown(function(n){var i=this;o=document,ox=parseInt(t._box.css("left"),10),oy=parseInt(t._box.css("top"),10),mx=n.clientX,my=n.clientY,size=p(),box_w=t._box.outerWidth(!0),box_h=t._box.outerHeight(!0),i.setCapture&&i.setCapture();var s=function(o){e.getSelection?e.getSelection().removeAllRanges():document.selection.empty();var n=Math.max(ox+o.clientX-mx,0),i=Math.max(oy+o.clientY-my,0);n=Math.min(n,size.width-box_w),i=Math.min(i,size.height-box_h),t._box.css({left:n,top:i})},l=function e(){i.releaseCapture&&i.releaseCapture(),a.off("mousemove",s),a.off("mouseup",e)};a.mousemove(s).mouseup(l)}):this._box.find(".box-header").css("cursor","default")},renderBox:function(e){var t={zIndex:e.zIndex,position:"absolute"};e.boxid&&this._box.attr("id",e.boxid),e.boxclass&&this._box.attr("class",e.boxclass),e.showTitle?""==e.title||this.setTitle(e.title):this._box.find(".box-title").hide(),e.showButton?(e.showCancel||this._b_button.find(".box-cancel").hide(),e.showOk||this._b_button.find(".box-ok").hide()):this._b_button.hide(),this._b_button.find(".box-ok span").html(e.okBtnName),this._b_button.find(".box-cancel span").html(e.cancelBtnName),this._box.css(t)},setTitle:function(e){return this._box.find(".box-title").html(e),this},setContent:function(o){var n="";if(void 0!==o&&null!=o){this._initedContent=!0,this.options.faceType&&(n+='<div class="face '+this.options.faceType+'"></div>'),this.options.iconType&&(n+='<i class="'+this.options.iconType+'"></i>'),this._b_content.empty().html(n+o);var i=this;if(this.options.width>0?this._box.css("width",this.options.width):this._box.css("width",null),this.options.height>0){var a={height:this.options.height};this.options.autoHeight||(a["overflow-y"]="auto"),this._b_content.css(a)}else this._b_content.css("height","auto");this.setPosition(),this._box.find(".box-close, .box-cancel, .box-ok").off("click").on("click",function(){i.close()}),"function"==typeof this.options.onok&&this._box.find(".box-ok").off("click").on("click",function(){i.options.onok.call(this,i)}),"function"==typeof this.options.oncancel&&this._box.find(".box-cancel").off("click").on("click",function(){i.options.oncancel.call(this,i)}),this._box.find(".box-close, .box-cancel, .box-ok").off("keypress").on("keypress",function(o){switch(o=o||e.event,o.which||o.charCode||o.keyCode){case 27:return i.close(),!1;case 32:case 13:return t(document.activeElement).trigger("click"),!1}})}},openEvent:function(){if(!this._isOpen){var e=this;if(this.options.autoPosition){if("center"!=this.options.position){var o;this._events.scroll=function(){clearTimeout(o),o=setTimeout(function(){e.setPosition()},300)},i.on("scroll",this._events.scroll)}this._events.resize=function(){e.setPosition()},i.on("resize",this._events.resize)}this.options.timeout>0&&(this._events.timeout=setTimeout(function(){e.close()},this.options.timeout)),this._onbox=!0,this.options.clickOut&&(this._events.box_click=function(t){e._onbox=!0},this._events.document_click=function(t){if(0!=t.button)return!0;!1===e._onbox&&e.options.clickOut(e),e._onbox=!1},this._box.bind("click",this._events.box_click),a.bind("click",this._events.document_click)),this.options.modal&&this.showMask(),this.options.onopen&&this.options.onopen(this),this.options.focus&&t(this.options.focus).focus(),this._isOpen=!0}},closeEvent:function(){clearTimeout(this._events.timeout),this._events.scroll&&i.off("scroll",this._events.scroll),this._events.resize&&i.off("resize",this._events.resize),this._events.box_click&&this._box.off("click",this._events.box_click),this._events.document_click&&a.off("click",this._events.document_click),this.options.modal&&this.hideMask(),this.options.onclose&&this.options.onclose(this),this.options.blur&&t(this.options.blur).focus(),this._isOpen=!1,this._type.closeEvent&&this._type.closeEvent(this)},setPosition:function(){if("center"==this.options.position){var e=i.height(),o=i.width(),n=this._box.outerWidth(),a=this._box.outerHeight(),s={x:(o-n)/2,y:(e-a)/2},r={position:"fixed"};if(s.x<0&&(r.width=o,s.x=0),s.y<0&&(r.height=e,s.y=0),r.top=s.y,r.left=s.x,l){r.position="absolute";var c=t("html");c.css("background-image")&&"none"!=c.css("background-image")||c.css("background-image","url(about:blank)"),this._box[0].style.setExpression("left","(document.documentElement || document.body).scrollLeft+"+r.left+'+"px"'),this._box[0].style.setExpression("top","(document.documentElement || document.body).scrollTop+"+r.top+'+"px"'),delete r.top,delete r.left}return void this._box.css(r)}if("[object Object]"===Object.prototype.toString.call(this.options.position)){var p=this.options.position.top||0,d=this.options.position.left||0;if(this.options.position.ref){var h=t(this.options.position.ref),s=h.offset();p+=s.top,p+=h.outerHeight(!0),d+=s.left}this._box.css({top:p,left:d})}},renderContent:function(e,t){void 0!==e&&null!=e&&(this._initedContent=!1),this._initedContent&&this.options.remember?(this.setPosition(),this.openEvent()):this._type.setContent(this,e,t)},open:function(e,o){this._isOpen&&this.closeEvent(),this.options=t.extend({},this.options,o);var n=this;return this.renderContent(e,function(){n.openEvent()}),this._box.stop().css({visibility:"visible",opacity:null}),this},close:function(){this.closeEvent(),this._box.css("visibility","hidden")},isOpen:function(){return this._isOpen},fadeIn:function(e,o,n){this.options=t.extend({},this.options,o),this.renderContent(e);var i=this._box.css("opacity")||1;this._box.css({opacity:0,visibility:"visible"}).stop().animate({opacity:i},n),this.openEvent()},fadeOut:function(e){var t=this;this.closeEvent(),this._box.stop().animate({opacity:0},e,function(){t._box.css({visibility:"hidden",opacity:null})})},find:function(e){return this._b_content.find(e)},getBox:function(){return this._box},initMask:function(){t(".ol_box_mask")&&t(".ol_box_mask").remove(),this._mask=t("<div class='ol_box_mask'></div>").css({visibility:"hidden",width:0,height:0,zIndex:this.options.zIndex}).appendTo("body");var e=this;this._events.masker_resize=function(){e._mask.css(p())}},showMask:function(){var e=p();e.visibility="visible",this._mask.css(e),i.on("resize",this._events.masker_resize)},hideMask:function(){this._mask.css({visibility:"hidden",width:0,height:0}),i.off("resize",this._events.masker_resize)}}}(window,jQuery)},32:function(e,t){window.DC||(window.DC={}),DC.namespace=function(){for(var e,t,o,n,i=arguments,a=0;a<i.length;a++)if(e=this,n=i[a],n.indexOf(".")>-1)for(o=n.split("."),t="DC"==o[0]?1:0;t<o.length;t++)e[o[t]]=e[o[t]]||{},e=e[o[t]];else e[n]=e[n]||{},e=e[n];return e},DC.namespace("modules"),DC.defineModule=function(e,t){var o,n=DC.modules;if(e&&t&&!n[e]){o=function(e){return"[object Function]"===Object.prototype.toString.call(e)}(t)?t():t;try{o&&o.init&&(n[e]=o)}catch(e){}}}},33:function(e,t){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=window.debugMessageArr||[];utils.log=function(e){"object"==(void 0===e?"undefined":o(e))&&(e=JSON.stringify(e));var t=utils.getUrlParams("debuglevel"),i=utils.getUrlParams("debugdelay");if(t){var a=new Date;a.format("yyyy-MM-dd hh:mm:ss"),n.push(a.format("yyyy-MM-dd hh:mm:ss")+"--"+e);var s={};if(s.onok=function(){utils.box.close&&utils.box.close()},s.oncanel=function(){utils.box.close&&utils.box.close()},1==t)console.log(e);else if(2==t)utils.toast({message:e});else if(3==t){var l=new utils.box(HtmlUtil.htmlEncodeByRegExp(e),{boxclass:"ol_box_4",showTitle:!1,showButton:!0,onok:function(e){e.close()},oncanel:function(){l.close()}});l.open()}else 4==t?alert(e):5==t&&setTimeout(function(){var e=new utils.box(HtmlUtil.htmlEncodeByRegExp(n.join("<br>")),{boxclass:"ol_box_4",showTitle:!1,showButton:!0,onok:function(e){e.close()},oncanel:function(){e.close()}});e.open()},1e3*i||1e4)}},utils.getUrlParams("showbase")&&(window.pageConfig.platformType=platformType,window.pageConfig.prototypeIdArr=[],$(".J_mod").each(function(){window.pageConfig.prototypeIdArr.push($(this).attr("prototype-id"))}),utils.log(window.pageConfig)),window.onerror=function(e,t,o,n,i){return"Script error."!=e&&!t||(setTimeout(function(){var e={};if(n=n||window.event&&window.event.errorCharacter||0,e.url=t,e.line=o,e.col=n,i&&i.stack)e.msg=i.stack.toString();else if(arguments.callee){for(var a=[],s=arguments.callee.caller,l=3;s&&--l>0&&(a.push(s.toString()),s!==s.caller);)s=s.caller;a=a.join(","),e.msg=i.stack.toString()}utils.log(JSON.stringify(e))},0),!0)},$(function(){$(".J_mod").each(function(){var e=$(this).attr("prototype-id"),t={11:"登陆注册",17:"会员签到",22:"会员权益",39:"页尾",40:"首页头部导航",48:"客服导航",49:"页头文字链",106:"专区标题导航",108:"荣耀专区头部导航",110:"华为专区标标题导航"};for(var o in t)e==o&&location.hostname.indexOf(".vmall.com")<0&&console.log("组件:"+t[e]+",需要部署在主站*.vmall.com域名下")})}),window.addEventListener("online",function(){utils.toast({message:locale.network.connected})}),window.addEventListener("offline",function(){utils.toast({message:locale.network.unconnected})})},34:function(e,t){!function(e,t,o){function n(o,n,i){var s={myLoginUrl:"",bindPhoneUrl:main+"/member/bind/phone/redirect?back_url="+encodeURIComponent(e.location.href),confirmUrl:main+"/authmember/accesstoken"};utils.ajaxOpenAPI({type:"POST",url:"/ams/coupon/receive",data:{activityCode:o,batchCode:n,t:(new Date).getTime()},success:function(e){if(e.success)l(e.pcReviceSuccTip,0),utils.queryCouponState([{activityCode:o,batchCode:n}],function(e){var o="";-1==e.receiveStates?o="state-empty-"+i:1==e.receiveStates?(o="state-general-"+i,t('li[data-acbc="'+e.activityCode+e.batchCode+'"]').find("a").attr("class","getCoupon")):2==e.receiveStates?o="state-got-"+i:3==e.receiveStates?o="state-begin-"+i:4==e.receiveStates&&(o="state-over-"+i),t('li[data-acbc="'+e.activityCode+e.batchCode+'"]').attr("class",o)});else switch(parseInt(e.code)){case 9206:l(e.errorTip,2);break;case 9208:l(e.errorTip,3);break;case 9209:l(e.errorTip,4);break;default:l(e.errorTip,1)}}});var l=function(e,o){var n={0:"",1:"",2:a["btn.login"],3:a["btn.verification"],4:a["btn.authentication"]},i={0:"",1:"",2:"javascript:utils.goLogin()",3:s.bindPhoneUrl,4:s.confirmUrl},l=0;0==o&&(l=-20);var r='<span style="color: #777;position: relative;padding: 3px 0 3px 26px;"><em class="cpem" style="width: 20px;height: 20px;position: absolute;top:2px;left:0px;background-position-y:'+l+'px;"></em>'+e+' <a href="'+i[o]+'">'+n[o]+"</a></span>";t("#couponDiv").children("p").html(r)}}function i(){var e='<div style="display:none;width:100%;height:100%;position:fixed;z-index:99999;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.5);"><div id="couponDiv" class="mod-bfcoupons-pc" style="width:698px;border: 1px solid #d6d6d6;position: fixed;background: #fff;z-index:1000;left:50%;margin-left: -350px;"><a class="cpa" href="javascript:;" onclick="$(this).parent().parent().hide();$(\'#couponDiv\').children(\'p\').html(\'\');" style="display:block;position:absolute;width:45px;height:44px;top:0px;right:0px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAA3ElEQVQoz43RPUpEMRSG4ScXLVyClZ0L0LGw0QUoMlpYpRKsxMZ1aOMPCFqeQhDEhbgJQRDchDYpMjFzZ9LlO+d9k5OkiEh4xWXO+dsSKyL2cJrKZgd3OF4kKOA1DlMVTnA/JijgDQ5yzj+pKU7wgGkraEEY6oac8wcu8B4R6xW434Iwc3LvBtgsM86Ac+FK8IjfHggrIw+7Wo211msYemFE7JavO8I53iJio+1LI+A05/xVsm08lW/87MI9sKr9E6RlwHmCVIG3JeyClWALzzhJETHgBVeLwEZw9gd7om1XAmZH9QAAAABJRU5ErkJggg==) center center no-repeat"></a><h2 style="height:60px;line-height:60px;font-size:18px;color:#333;text-align:center;">- '+a.getCoupons+' -</h2><div class="coupon-roll" style="width:660px;max-height:380px;overflow-y:auto;padding-top:20px;margin:0 auto;overflow:auto;border:1px solid #eaeaea;background:#f6f6f6;"><ul style="list-style: none;"></ul></div><p style="height:40px;line-height:40px;text-align:center;"></p></div></div>';t(".J_page").append(e),t("#couponDiv").on("click",".getCoupon",function(){n(t(this).data("ac"),t(this).data("bc"),t(this).data("aid"))})}var a=e.locale.getCoupon,s=e.locale.common;utils.getCouponMulti=function(o,n){function a(e){var o="";-1==e.receiveStates?o="state-empty-"+r:1==e.receiveStates?(o="state-general-"+r,t('li[data-acbc="'+e.activityCode+e.batchCode+'"]').find("a").attr("class","getCoupon")):2==e.receiveStates?o="state-got-"+r:3==e.receiveStates?o="state-begin-"+r:4==e.receiveStates&&(o="state-over-"+r),t('li[data-acbc="'+e.activityCode+e.batchCode+'"]').attr("class",o)}o.preventDefault();var l=t(n),r=l.data("instanceid"),c=l.data("sbomcode"),p="",d=couponList[r+""+c],h=[];0==t("#couponDiv").length&&i(),t("#couponDiv").children("p").html("");for(var u in d){var g=d[u];g.cquota&&(h.push({activityCode:g.activityCode,batchCode:g.batchCode}),"cz-CZHW"==e.pageConfig.locale||"ru-RU"==e.pageConfig.locale||"ru-RUSSIA"==e.pageConfig.locale||"ru-RUHW"==e.pageConfig.locale||"ru-RUHONOR"==e.pageConfig.locale||"tr-TRHW"==e.pageConfig.locale||"th-TH_HW_B2C"==e.pageConfig.locale?p+='<li title="'+HtmlUtil.htmlEncodeByRegExp(g.cname)+'" data-acbc="'+HtmlUtil.htmlEncodeByRegExp(g.activityCode)+HtmlUtil.htmlEncodeByRegExp(g.batchCode)+'" style="float: left;width: 280px;height: 130px;margin: 0 0 20px '+(1==d.length?"190px":"35px")+';border-radius: 10px;box-shadow: 0 7px 15px #e0e0e0;"><a href="javascript:;" data-aid="'+r+'" data-ac="'+HtmlUtil.htmlEncodeByRegExp(g.activityCode)+'" data-bc="'+HtmlUtil.htmlEncodeByRegExp(g.batchCode)+'" style="width: 100%;height: 100%;display: inline-block;"><div style="float: left;width: 196px;margin-top: 15px;margin-left:30px;"><div style="display:table;color: #e85a53;margin-bottom: 9px;"><span style="font-size: 46px;float: left;font-family: Impact;line-height: 46px;">'+HtmlUtil.htmlEncodeByRegExp(g.cquota)+'</span><span style="float: left;color: #e85a53;font-size: 22px;font-weight: bold;text-align: right;padding-right: 6px;width: 30px;margin-top: 15px;">'+s.currencySymbol+'</span><strong style="font-size: 14px;font-weight: bold;margin-left: 12px;float: left;margin-top: 3px;">'+HtmlUtil.htmlEncodeByRegExp(l.data("cquotasuffix"))+'</strong></div><p style="color: #3a3a3a;font-size: 14px;padding-right: 26px;margin:0px;line-height: 16px;height: 32px;overflow: hidden;">'+HtmlUtil.htmlEncodeByRegExp(g.cname)+'</p><p style="margin-top: 4px;color: #888;">'+HtmlUtil.htmlEncodeByRegExp(g.cdate)+"</p></div></a></li>":"ar-AEHW"==e.pageConfig.locale||"ar-AE"==e.pageConfig.locale||"ar-SAHW"==e.pageConfig.locale||"ar-SA"==e.pageConfig.locale?p+='<li title="'+HtmlUtil.htmlEncodeByRegExp(g.cname)+'" data-acbc="'+HtmlUtil.htmlEncodeByRegExp(g.activityCode)+HtmlUtil.htmlEncodeByRegExp(g.batchCode)+'" style="float: left;width: 280px;height: 130px;margin: 0 0 20px '+(1==d.length?"190px":"35px")+';border-radius: 10px;box-shadow: 0 7px 15px #e0e0e0;"><a href="javascript:;" data-aid="'+r+'" data-ac="'+HtmlUtil.htmlEncodeByRegExp(g.activityCode)+'" data-bc="'+HtmlUtil.htmlEncodeByRegExp(g.batchCode)+'" style="width: 100%;height: 100%;display: inline-block;"><div style="float: right;width: 240px;margin-top: 15px;margin-right:27px;"><div style="display:table;color: #e85a53;margin-bottom: 9px;"><span style="font-size: 46px;font-family: Impact;font-weight: bold;line-height: 46px;">'+HtmlUtil.htmlEncodeByRegExp(g.cquota)+'</span><span style="color: #e85a53;font-size: 18px;font-weight: bold;vertical-align: top; text-align: right;padding-right: 6px;margin-top: 15px;">'+s.currencySymbol+' </span><strong style="font-size: 14px;font-weight: bold;vertical-align: top;max-width:120px;display: inline-block; margin-right: 12px;margin-top: 3px;">'+HtmlUtil.htmlEncodeByRegExp(l.data("cquotasuffix"))+'</strong></div><p style="color: #3a3a3a;font-size: 14px;margin:0px;line-height: 16px;height: 32px;overflow: hidden;">'+HtmlUtil.htmlEncodeByRegExp(g.cname)+'</p><p style="margin-top: 4px;color: #888;">'+HtmlUtil.htmlEncodeByRegExp(g.cdate)+"</p></div></a></li>":p+='<li title="'+HtmlUtil.htmlEncodeByRegExp(g.cname)+'" data-acbc="'+HtmlUtil.htmlEncodeByRegExp(g.activityCode)+HtmlUtil.htmlEncodeByRegExp(g.batchCode)+'" style="float: left;width: 280px;height: 130px;margin: 0 0 20px '+(1==d.length?"190px":"35px")+';border-radius: 10px;box-shadow: 0 7px 15px #e0e0e0;"><a href="javascript:;" data-aid="'+r+'" data-ac="'+HtmlUtil.htmlEncodeByRegExp(g.activityCode)+'" data-bc="'+HtmlUtil.htmlEncodeByRegExp(g.batchCode)+'" style="width: 100%;height: 100%;display: inline-block;"><span style="float: left;color: #e85a53;font-size: 22px;font-weight: bold;text-align: right;padding-right: 6px;width: 30px;margin-top: 15px;">'+s.currencySymbol+'</span><div style="float: left;width: 196px;margin-top: 15px;"><div style="display:table;color: #e85a53;margin-bottom: 9px;"><span style="font-size: 46px;float: left;font-family: Impact;line-height: 46px;">'+HtmlUtil.htmlEncodeByRegExp(g.cquota)+'</span><strong style="font-size: 14px;font-weight: bold;margin-left: 12px;float: left;margin-top: 3px;">'+HtmlUtil.htmlEncodeByRegExp(l.data("cquotasuffix"))+'</strong></div><p style="color: #3a3a3a;font-size: 14px;padding-right: 26px;margin:0px;line-height: 16px;height: 32px;overflow: hidden;">'+HtmlUtil.htmlEncodeByRegExp(g.cname)+'</p><p style="margin-top: 4px;color: #888;">'+HtmlUtil.htmlEncodeByRegExp(g.cdate)+"</p></div></a></li>")}utils.queryCouponState(h,a);var f=t("#couponDiv");f.find("ul").html(p),f.parent().show(),t(e).on("resize",function(o){f.css("top",(t(e).height()-f.outerHeight())/2)}),f.css("top",(t(e).height()-f.outerHeight())/2)}}(window,jQuery)},35:function(e,t){utils.queryCouponState=function(e,t){if(!e.length)return!1;for(var o=0;o<e.length;o++)for(var n=o+1;n<e.length;)e[o].activityCode==e[n].activityCode&&e[o].batchCode==e[n].batchCode?e.splice(n,1):n++;utils.ajaxOpenAPI({type:"GET",url:"/ams/coupon/queryCouponStates",data:{listQueryCouponStateReqs:JSON.stringify(e)},success:function(e){e.success&&e.couponStateData.length>0&&$.each(e.couponStateData,function(e,o){t(o)})}})},utils.getCoupon=function(e,t,o,n){var i=window.locale.getCoupon;utils.ajaxOpenAPI({type:"POST",url:"/ams/coupon/receive",cache:!1,data:e,success:function(a){var s="",l={boxclass:"ol_box_4",showTitle:!1,faceType:"success",okBtnName:i["btn.confirm"],showCancel:!1};if(a&&a.success){s=a.pcReviceSuccTip;var r=[];r.push(e),utils.queryCouponState(r,t),"yes"===n?o&&void 0!=a.reviceType?"1"==a.reviceType?utils.handleCode.toUse(l,e,n):utils.handleCode.checkOut(l,e,n):utils.handleCode.toUse(l,e,n):o&&void 0!=a.reviceType?"1"==a.reviceType?"zh-CN"!=window.pageConfig.locale&&"zh-CNQX"!=window.pageConfig.locale||utils.handleCode.toUse(l,e):"zh-CN"!=window.pageConfig.locale&&"zh-CNQX"!=window.pageConfig.locale||utils.handleCode.checkOut(l,e):"zh-CN"!=window.pageConfig.locale&&"zh-CNQX"!=window.pageConfig.locale||("1"==a.reviceType?utils.handleCode.toUse(l,e):utils.handleCode.checkOut(l,e))}else switch(s=a.errorTip,l.faceType="failed",Number(a.code)){case 9206:utils.handleCode.unLogin(l);break;case 9208:utils.handleCode.unVerification(l);break;case 9209:utils.handleCode.unAuthentication(l);break;case 9216:utils.handleCode.earn(l)}new utils.box(HtmlUtil.htmlEncodeByRegExp(s),l).open()}})}},36:function(e,t){!function(e,t){var o=e.locale.prize;Md.prize={oPrize:function(e,n){var i=this,a=function(e){var a=null,s=null,l="<i></i>",r="dialog-button-yes",c=o["btn.confirm"];if(e&&e.success&&n&&n(),e&&e.success){if(e.limit>0){var p=utils.getLanguageKey(e.limit,"prompt.chance");a=(e.pcPrizeTip||e.pcNotPrizeTip||"")+o["prompt.have"]+e.limit+o[p]}else a=e.pcPrizeTip||e.pcNotPrizeTip||"";e.pcNotPrizeTip&&(l="<s></s>")}else l="<s></s>",s=i.messageTip(e.code,e.msg,e.isSupportShare,e.isShareTimesUsedUp),a=s.text,c=s.btn,r=s._class;Tool.pcTipShow(l,a,r,c),s&&s.notRedBag&&(t("#redbag-bg").hide(),t("#redbag").html(""),i.timer&&clearInterval(i.timer))};ams.commonNewPrize({activityCode:e},a)},messageTip:function(e,t,n,i,a){var s={text:"",btn:o["btn.confirm"],_class:"dialog-button-yes",notRedBag:!1},l=null;switch(Number(e)){case 9e3:case 9001:case 9002:s.text=o["prompt.wait"];break;case 9003:case 9004:s.text=o["prompt.begin"];break;case 9005:s.text=o["prompt.over"],s.notRedBag=!0;break;case 9006:s.text=o["prompt.login"],s.btn=o["btn.login"],s._class="dialog-button-ver";break;case 9007:s.text=o["prompt.condition"],s.notRedBag=!0;break;case 9008:s.text=o["prompt.phone"],s.btn=o["btn.verification"],s._class="dialog-button-ver";break;case 9009:s.text=o["prompt.authentication"],s.btn=o["btn.authentication"],s._class="dialog-button-ver";break;case 9010:s.text=o["prompt.data"];break;case 9011:l=t.replace(/[^0-9]/g,""),s.text=o["prompt.cumulate"]+l+o["prompt.prize"],s.notRedBag=!0;break;case 9012:l=t.replace(/[^0-9]/g,""),s.text=o["prompt.continue"]+l+o["prompt.prize"],s.notRedBag=!0;break;case 9013:n&&!1===i?(s.text=o["prompt.share"],s.btn=o["btn.share"],s._class="dialog-button-ver"):(s.text=o["prompt.empty"],s.notRedBag=!0);break;case 9014:s.text=o["nonsupport.share"];break;case 9026:case 9027:s.btn=o["btn.earn"],s.text=o["prompt.earn.point.a"]+a+o["prompt.earn.point.b"];break;default:s.text=t||o["prompt.wait"]}return s}},e.prize=Md.prize}(window,jQuery)},37:function(e,t){!function(e){var t=e.locale.getCoupon;utils.handleCode={unLogin:function(o){o.faceType="failed",o.showCancel=!0,o.cancelBtnName=e.locale.jumpBtn["btn.register"],o.oncancel=function(){e.location.href=e.registerLink},o.okBtnName=t["btn.login"],o.onok=function(){utils.goLogin()},localStorage.removeItem("userid")},unVerification:function(o){o.showCancel=!0,o.okBtnName=t["btn.verification"],o.onok=function(){e.location.href=e.main+"/member/bind/phone/redirect?back_url="+encodeURIComponent(e.location.href)}},unAuthentication:function(o){o.showCancel=!0,o.okBtnName=t["btn.authentication"],o.onok=function(){e.location.href=e.main+"/authmember/accesstoken"}},share:function(e){e.showCancel=!0,e.okBtnName=t["btn.share"],e.onok=function(){Tool.share.shareSina(Tool.share.shareType)}},earn:function(o){o.showCancel=!0,o.okBtnName=t["btn.earn"],o.onok=function(){"zh-CN"==e.pageConfig.locale||"zh-CNQX"==e.pageConfig.locale?e.location.href=main+"/member/newpoint":e.location.href=main+"/member/points"}},data:function(o){o.showCancel=!0,o.okBtnName=t["btn.data"],o.onok=function(){e.location.href=e.infoLink}},toUse:function(o,n,i){o.showCancel=!0,o.cancelBtnName=t["btn.confirm"],o.okBtnName=i&&"zh-CN"!=e.pageConfig.locale&&"zh-CNQX"!=e.pageConfig.locale?t.checkOut:t["btn.toUse"],o.onok=function(){i&&"zh-CN"!=e.pageConfig.locale&&"zh-CNQX"!=e.pageConfig.locale?e.location.href=e.domainMain+"/member/coupon":"zh-CN"==e.pageConfig.locale?utils.postTo(e.domainMain+"/product/coupon/queryPrdForCoupon",{batchCode:n.batchCode}):"zh-CNQX"==e.pageConfig.locale&&(e.location.href=e.domainMain+"/couponList?batchCode="+n.batchCode)}},checkOut:function(o,n,i){o.showCancel=!0,o.cancelBtnName=t["btn.confirm"],o.okBtnName=t.checkOut,o.onok=function(){i&&"zh-CN"!=e.pageConfig.locale&&"zh-CNQX"!=e.pageConfig.locale?e.location.href=e.domainMain+"/member/messages":"zh-CN"==e.pageConfig.locale?e.location.href=e.domainMain+"/member/msg":"zh-CNQX"==e.pageConfig.locale&&(e.location.href=e.domainMain+"/people/message")}}},utils.postTo=function(t,o,n){var i=e.csrftoken,a="";n&&(a=' target="_blank"');var s=$('<form action="'+t+'" method="post"'+a+"></form>");s.append('<input name="CsrfToken" type="hidden" value="'+i+'">');for(var l in o)Array.isArray(o[l])?o[l].forEach(function(e){s.append('<input name="'+l+'[]" type="hidden" value="'+String(e)+'">')}):s.append('<input name="'+l+'" type="hidden" value="'+String(o[l])+'">');$("body").append(s),s.submit(),s.remove()}}(window)},38:function(e,t){window.HtmlUtil={htmlEncode:function(e){var t=document.createElement("div");void 0!=t.textContent?t.textContent=e:t.innerText=e;var o=t.innerHTML;return t=null,o},htmlDecode:function(e){var t=document.createElement("div");t.innerHTML=e;var o=t.innerText||t.textContent;return t=null,o},htmlEncodeByRegExp:function(e){var t="";return e+="",0==e.length?"":(t=e.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"))},htmlDecodeByRegExp:function(e){var t="";return e+="",0==e.length?"":(t=e.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'))},safeEncodeByregExp:function(e){return HtmlUtil.htmlEncodeByRegExp(HtmlUtil.htmlDecodeByRegExp(e))}},window.JavaScriptEncode=function(e){function t(e){return"\\x"+e.charCodeAt(0).toString(16)}var o=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),n=e,i="",a=0;for(a=0;a<n.length;a++)i+=function(e){var n=!0,i=e.charAt(0),a=e.charCodeAt(0);switch(i){case"\n":return"\\n";case"\r":return"\\r";case"'":return"\\'";case'"':return'\\"';case"&":return"\\&";case"\\":return"\\\\";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"/":return"\\x2F";case"<":return"\\x3C";case">":return"\\x3E";default:n=!1}if(!n){if(a>47&&a<58)return e;if(a>64&&a<91)return e;if(a>96&&a<123)return e;if(a>127){var s=a,l=s%16;s=Math.floor(s/16);var r=s%16;s=Math.floor(s/16);var c=s%16;s=Math.floor(s/16);return"\\u"+o[s%16]+o[c]+o[r]+o[l]}return t(e)}}(n.charAt(a));return i}},39:function(e,t){function o(e){if(!window.pageConfig.whiteListExternal)return!1;for(var t=window.pageConfig.whiteListExternal,o=t.replace(/，/g,","),n=o.split(","),i=0;i<n.length;i++)if(n[i].indexOf(e)>-1)return!1;return!0}function n(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}$(function(){$("body").on("click","a",function(e){if("DESIGN"!==window.shopdcmode){var t=window.locale.jumpthirdsite,i=$(this).attr("href"),a=$(this).attr("target"),s=t.content+HtmlUtil.htmlEncodeByRegExp(HtmlUtil.htmlDecodeByRegExp(i)),l=n(i);if($(this).attr("href",HtmlUtil.htmlDecodeByRegExp(i)),i&&l&&l.hostname&&i.indexOf("http")>-1&&o(l.hostname)){e.preventDefault(),e.stopPropagation();var r=new utils.box(s,{boxclass:"ol_box_4",showTitle:!1,showOk:!0,okBtnName:t.ok,showCancel:!0,cancelBtnName:t.cancel,isconfirm:!1,onok:function(){"_blank"==a?window.open(HtmlUtil.htmlDecodeByRegExp(i),"newwindow"):window.location.href=HtmlUtil.htmlDecodeByRegExp(i)},oncancel:function(){r.close()}}).open()}}})})},40:function(e,t){function o(){return"zh-CN"==window.pageConfig.locale||"zh-CNQX"==window.pageConfig.locale}"shopdcportal-dev.test.vmall.com"==window.location.host&&(window.openapiDomain="https://openapidev.test.vmall.com"),function(e){var t=/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent),o=e.location,n=[{pc:"www.vmall.com",wap:"m.vmall.com"},{pc:"qinxuan.honor.cn",wap:"m.qinxuan.honor.cn"},{pc:"sale.vmall.com",wap:"msale.vmall.com"},{pc:"mm.vmall.com",wap:"mt.vmall.com"},{pc:"www.hihonor.com",wap:"m.hihonor.com"},{pc:"shop.huawei.com",wap:"mshop.huawei.com"},{pc:"shop.huawei.ru",wap:"mshop.huawei.ru"},{pc:"www.honor.ru",wap:"m.honor.ru"}];if(!t)return!1;for(var i=0;i<n.length;i++)if(o.hostname==n[i].pc){o.href=o.href.replace(n[i].pc,n[i].wap);break}}(window),window.main=window.domainMain,window.domainAms=window.amsDomain,window.ucDomain=window.domainUc,$.extend({browser:{}}),window.utils||(window.utils={}),window.Tool=window.utils,window.components||(window.components={}),window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),utils.escape=function(e){if("string"!=typeof e)return e;if(Tool.isEmpty(e))return"";var t=document.createElement("div"),o=document.createTextNode(e);return t.appendChild(o),t.innerHTML},utils.getPublishTime=function(){if(window.pageConfig.publishTime){var e,t,o,n,i,a,s=new Date(window.pageConfig.publishTime),l=function(e){return(e<10?"0"+e:e).toString()};return e=s.getFullYear(),t=l(s.getMonth()+1),o=l(s.getDate()),n=l(s.getHours()),i=l(s.getMinutes()),a=l(s.getSeconds()),e+t+o+n+i+a}},utils.pkg=function(e,t,o){var n,i,a;if(3==arguments.length?(n=e,i=t,a=o):(n=window,i=e,a=t),!i||!i.length)return null;for(var s=i.split("."),l=n,r=0;r<s.length-1;r++)l[s[r]]||(l[s[r]]={}),l=l[s[r]];return l=l[s[s.length-1]]=a||l[s[s.length-1]]||{}},utils.checkIsUnLoginByData=function(e){try{var t=["9006","9106","9206","9306","9406","9506","9606","9806","10006","50001","200916"];if(e&&("20000"==e.newCode||t.indexOf(e.resultCode)>-1))return localStorage.removeItem("userid"),!0}catch(e){}return!1},utils.getUrlParams=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(t)||window.location.hash.substr(1).match(t);return o?decodeURIComponent(o[2]):""},utils.toast=function(e){e.message=e.message||"提示信息",e.delay=e.delay||2e3,e.icon=e.icon||"success";var t=$(".dc-toast");0==t.length?t=$('<div class="dc-toast dc-toast-'+e.icon+'">'+e.message+"</div>").appendTo($("body")):t.text(e.message),t.css({"margin-left":-t.outerWidth()/2,"margin-top":-t.outerHeight()/2}),t.fadeIn("fast",function(){setTimeout(function(){t.fadeOut("slow")},e.delay)})},function(e,t){var o={};Tool.cookie={get:function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var i=(o[n]||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"");if(i=i.replace('"','"').replace('"',""),0==i.length)return"";if(i.substring(0,e.length+1)==e+"="){t=function(e){e=e.replace(/\+/g," ");for(var t='()<>@,;:\\"/[]?={}',o=0;o<t.length;o++)if(-1!=e.indexOf(t.charAt(o))){e.startWith('"')&&(e=e.substring(1)),e.endWith('"')&&(e=e.substring(0,e.length-1));break}return decodeURIComponent(e)}(i.substring(e.length+1));break}}return t},set:function(e,t,o){o=o||{},null===t&&(t="",o.expires=-1);var n="";if(o.expires&&("number"==typeof o.expires||o.expires.toUTCString)){var i;"number"==typeof o.expires?(i=new Date,i.setTime(i.getTime()+24*o.expires*60*60*1e3)):i=o.expires,n="; expires="+i.toUTCString()}var a="; path="+(o.path||"/"),s=window.location.hostname.split("."),l=s.length,r="."+s[l-2]+"."+s[l-1],c="; domain="+r,p=o.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),n,a,c,p].join("")}},Tool.exist=function(e){return!!t(e).length},Tool.pcBox=function(){var e='<div id="box_tip"><div class="shade"></div><div class="dialog" id="box"><div>';e+='<a class="box-close" href="javascript:;"></a>',e+='</div><div><div class="h"></div><div class="b"><p></p></div><div class="f">',e+='<a href="javascript:;" id="dialog-btn"></a></div></div></div></div>';var o=t("body").children().eq(0);t(e).insertBefore(o)},Tool.pcBox(),t(".box-close").on("click",function(){t("#box_tip").hide(),t("#box_tip .h").html(""),t("#register").remove(),t("#dialog-btn").removeAttr("class"),window.flashOpt&&dialPrize.loadFlash(1)});var n=window.locale.jumpBtn;t("#dialog-btn").on("click",function(){var e=t(this).html();t("#box_tip").hide(),t("#box_tip .h").html(""),t(this).removeAttr("class"),t.inArray(e,[n["btn.login"]])>=0?window.location.href=loginLink:t.inArray(e,[n["btn.verification"],n["btn.binding"],n["btn.binding2"]])>=0?window.location.href=main+"/member/bind/phone/redirect?back_url="+encodeURIComponent(window.location.href):t.inArray(e,[n["btn.authentication"],n["btn.authentication2"]])>=0?window.location.href=main+"/authmember/accesstoken":t.inArray(e,[n["btn.share"]])>=0?Tool.share.shareSina(Tool.share.shareType):t.inArray(e,[n["btn.earn"]])>=0?"zh-CN"==window.pageConfig.locale||"zh-CNQX"==window.pageConfig.locale?window.location.href=main+"/member/newpoint":window.location.href=main+"/member/points":t.inArray(e,[n["btn.data"]])>=0&&(window.location.href=infoLink),window.flashOpt&&dialPrize.loadFlash(1)}),Tool.pcTipShow=function(e,o,i,a,s){t("#box_tip").addClass(s),t("#box_tip .h").html(e),t("#box_tip .b p").html(o),t("#box_tip #dialog-btn").addClass(i).html(a),a==n["btn.login"]&&t("#register").length<1&&t("#box_tip #dialog-btn").before("<a href='"+registerLink+"' id='register' class='dialog-button-cancel'>"+n["btn.register"]+"</a>"),t("#box_tip").show();var l=t(window).height(),r=t(window).width(),c=t(".dialog").height(),p=t(".dialog").width(),d=(l-c)/2,h=(r-p)/2;t("#box_tip #box").css({left:h+"px",top:d+"px"}),t("#box_tip").css({opacity:1,filter:"alpha(opacity=100)"})},Tool.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},Tool.isEmpty=function(e){return"undefined"==e||null==e||""==e||0==e.length},Tool.getJSON=function(e){if(this.isEmpty(e)||this.isEmpty(e.url)||!this.isFunction(e.callback))return!1;var o=e.domain+e.url+(new Date).getTime()+"&callback=?";t.getJSON(o,e.data,function(t){e.callback(t)})},t(e).on("resize",function(){t("#box").css({left:(t(e).width()-600)/2,top:(t(e).height()-290)/2})}),e.Md=o}(window,jQuery),utils.getCsrftoken=function(){$.ajax({type:"GET",url:window.openapiDomain+"/csrftoken.js",cache:!1,async:!1,timeout:5e3,dataType:"text",beforeSend:function(e){e.withCredentials=!0},xhrFields:{withCredentials:!0},success:function(e){window.csrftoken=e.replace(/^[\s\S]*csrftoken\s=\s"([a-zA-Z0-9-]+)";[\s\S]*$/g,"$1")},error:function(){console.log("request error")}})},utils.ajaxOpenAPI=function(e){"POST"==e.type.toUpperCase()&&(e.data=JSON.stringify(e.data)),e.error=function(t,o){if(200917==(t.responseJSON&&t.responseJSON.resultCode||"")&&"DESIGN"!=window.shopdcmode){utils.getCsrftoken();var n=new utils.box(window.locale.prize["prompt.wait"],{boxclass:"ol_box_4 tokenTip",showTitle:!1,showCancel:!1,onok:function(){n.close(),window.location.reload()}}).open();$(".tokenTip .box-close").on("click",function(){n.close(),window.location.reload()})}utils.checkIsUnLoginByData(t),"timeout"===o&&"function"==typeof e.timeoutFunction?e.timeoutFunction():"function"==typeof e.errorFunction&&e.errorFunction()},e.url=window.openapiDomain+e.url;var t={};$.extend(!0,t,e),t.success=function(t){console.log("distOpts.success = "+JSON.stringify(t)),utils.checkIsUnLoginByData(t),e.success(t)},$.ajax($.extend({type:"POST",dataType:"json",url:"",cache:!1,data:{},timeout:5e3,beforeSend:function(e){e.withCredentials=!0;try{e.setRequestHeader("CsrfToken",csrftoken)}catch(e){}},xhrFields:{withCredentials:!0},success:function(e){},error:function(e,t){}},t))},utils.goLogin=function(){window.location.href=window.loginLink},utils.upLogin=function(e){var t="callback"+(new Date).getTime(),o=ifmLogin+"?validated=true&themeName=red&service="+encodeURIComponent(domainMain+"/account/caslogin?url="+encodeURIComponent(location.origin+"/upCallback.htm?callback="+t+"&prePage="+encodeURIComponent(encodeURIComponent(location.href))))+"&loginChannel=26000000&reqClientType=26&lang=zh-cn";name="up-iframe-"+(new Date).getTime(),html='<iframe class="boxIframe" width="100%" height="100%" frameborder="0" name="'+HtmlUtil.htmlEncodeByRegExp(name)+'" src="about:blank" scrolling="no"></iframe><script>setTimeout(function(){window["'+HtmlUtil.htmlEncodeByRegExp(name)+'"].location.href="'+HtmlUtil.htmlEncodeByRegExp(o)+'";} ,100);<\/script>';var n=new utils.box(html,{boxid:"ec_login",title:" ",remember:!1,width:500,height:600,showButton:!1,draggable:!0,onclose:function(e){try{delete window[t]}catch(e){window[t]=null}e.find("iframe").each(function(){this.contentWindow.close(),jQuery(this).remove()})}});!function(){var e=document.getElementById("upAgentIframe"),t=location.origin+"/upCallback.htm";e?e.src=t+"?"+(new Date).getTime():(e=document.createElement("iframe"),e.id="upAgentIframe",e.src=t,e.style.display="none",document.body.appendChild(e))}(),n.open(),window[t]=function(){n.close(),e&&e()}},utils.isLogin=function(){return localStorage.getItem("userid")||utils.cookie.get("uid")},utils.goUrl=function(e){if(!e.url)return!1;if("undefined"==typeof whitelist)return!1;var t=e.type||0,o=function(e,t){e=e.toLowerCase();for(var o=0;o<t.length;o++){if(0==e.indexOf(t[o]+"/"))return[!0,e];if(0==e.indexOf(t[o])){if(!e[t[o].length])return[!0,e];if("?"==e[t[o].length]||"#"==e[t[o].length])return e=e.replace(e[t[o].length],"/"+e[t[o].length]),[!0,e];if(o==t.length-1)return!1}}return!1}(e.url,whitelist);if(o[0])if(0==t){var n=e.win||window;n.location.href=o[1]}else if(1==t)if(e.parame){var i=e.name||"newwindow_"+(new Date).getTime();window.open(o[1],i,e.parame)}else window.open(o[1])},function(){window.pageConfig=window.pageConfig||{};var e=window.pageConfig.areaCode||"CN";Tool.cookie.set("_areacode",e),pageConfig.locale&&"${locale.language}-${locale.country}"!=pageConfig.locale||(pageConfig.locale="zh-CN");var t=pageConfig.locale.replace("cz-CZ","cs-CZ").replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("-","_");if(-1!=t.indexOf("HONOR")||-1!=t.indexOf("HW")||-1!=t.indexOf("QX")){var o=t.split("_")[1].substring(2);t=t.split(o)[0]}Tool.cookie.set("locale_MS",t)}(),utils.getLanguageKey=function(e,t){return e>1?t+"s":t},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},o={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+o[this.getDay()+""]));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},utils.compareDay=function(e,t){var o=e.split("-"),n=new date(o[0],o[1],o[2]),i=n.gettime(),a=t.split("-");return!(i>=new date(a[0],a[1],a[2]).gettime())},utils.compareTime=function(e,t){try{var o=e.split(":"),n=60*parseInt(o[0])+o[1],i=t.split(":");return 60*parseInt(i[0])+i[1]-n}catch(e){return-999}},utils.getCurrZoneDate=function(){var e=new Date,t=e.getTime(),o=6e4*e.getTimezoneOffset(),n=t+o,i=n+36e5*window.timeZone;return new Date(i)},utils.getApkVersion=function(){var e="";return window.navigator.userAgent.match(/iPhone|mac|iPod|iPad|ios/i)?e="510":vmallAndroid.getClientVersionCode&&(e=vmallAndroid.getClientVersionCode()),e},utils.getPortal=function(){var e="2";if("wap"==window.platformType)e="2",o()||(e="25");else if("app"==window.platformType){var t=window.navigator.userAgent,n=!!t.match(/iPhone|mac|iPod|iPad|ios/i);n?e="10":(e="3",o()||(e="6"))}else e="1",o()||(e="24");return e},utils.decode=function(e){if("string"==typeof e){var t=document.createElement("textarea");t.innerHTML=e,e=t.value}return e},utils.logout=function(e){var t={};e&&(t.url=e),$.ajax({type:"POST",dataType:"json",url:window.domainMain+"/customer/logout.json",data:t,beforeSend:function(e){e.withCredentials=!0;try{e.setRequestHeader("CsrfToken",csrftoken)}catch(e){}},xhrFields:{withCredentials:!0},success:function(e){e&&e.success&&e.redirectUrl&&(location.href=utils.decode(e.redirectUrl))},error:function(){}})},utils.confirmIsLogin=function(e){if("DESIGN"==window.shopdcmode)return!1;var t=pageConfig.locale.replace("cz-CZ","cs-CZ").replace("-","_").replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"en_US",o={portal:utils.getPortal(),lang:t,country:window.pageConfig.areaCode};"app"==window.platformType&&(o.version=utils.getApkVersion()),utils.ajaxOpenAPI({type:"GET",url:"/mcp/queryUserInfo",data:o,success:function(t){t&&t.success&&(localStorage.setItem("userid",t.userInfo.uid),"function"==typeof e&&e(t))}})},utils.getScript=function(e){var t=pageConfig.cdnPath.js+e;$.getScript(t).done(function(){}).fail(function(){console.log("加载失败")})},function(){localStorage.removeItem("userid"),utils.getCsrftoken()}()},41:function(e,t){var o=Tool.cookie.get("access_token_wb"),o="",n=window.location.origin+window.location.pathname,i=utils.getUrlParams("code");"zh-CN"!=window.pageConfig.locale&&"zh-CNQX"!=window.pageConfig.locale&&$(document).ready(function(){window.fbAsyncInit=function(){FB.init({appId:facebookAppId,xfbml:!0,version:"v2.4"}),FB.Canvas.setAutoGrow()},function(e,t,o){var n,i=e.getElementsByTagName(t)[0];if(!e.getElementById(o)){n=e.createElement(t),n.id=o;var a=pageConfig.locale.replace("cz-CZ","cs-CZ").replace("-","_").replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"en_US";a=a.replace("es_MX","es_ES").replace("ar_AE","ar_AR").replace("ar_SA","ar_AR"),n.src="//connect.facebook.net/"+a+"/all.js",i.parentNode.insertBefore(n,i)}}(document,"script","facebook-jssdk")}),Tool.getAuthorizeUrl=function(e){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/authorize",data:{redirect_uri:e},success:function(e){e&&e.success&&(window.location.href=e.authorizeUri)}})},Tool.getAccessToken=function(){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/access_token",data:{code:i},xhrFields:{withCredentials:!0},success:function(e){e&&e.success&&(o=e.token_info.accessToken)}})},i&&Tool.getAccessToken(),Tool.isAccessToken=function(e,t){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/get_token_info",data:{access_token:o},success:function(o){o&&o.success&&("0"===o.scope_token_info.expires_in?Tool.getAuthorizeUrl(n):Tool.shareSina(e,t))}})},Tool.shareSina=function(e,t){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/share",data:{access_token:o,status:e.shareMap.title+e.shareMap.content+e.shareMap.url,picUrl:e.shareMap.pic},xhrFields:{withCredentials:!0},success:function(o){o&&o.success&&(utils.toast({message:"分享成功！"}),Tool.share.addPrizeCount(e.activityCode),t&&t())}})},Tool.share={},Tool.share.shareSina=function(e,t){"CN"===window.pageConfig.areaCode||"CNQX"===window.pageConfig.areaCode?!1===e.isTrueShare?window.open("http://service.weibo.com/share/share.php?title="+encodeURIComponent(e.shareMap.title)+"&pic="+encodeURIComponent(e.shareMap.pic)+"&url="+encodeURIComponent(e.shareMap.url)+"&appkey=23431084"):o?Tool.isAccessToken(e,t):Tool.getAuthorizeUrl(n):FB.ui({method:"feed",link:e.shareMap.url||n,hashtag:e.shareMap.hashtag},function(o){o&&!o.error_code&&(Tool.share.addPrizeCount(e.activityCode),t&&t())})},Tool.share.addPrizeCount=function(e){var t=function(){return!0};utils.ajaxOpenAPI({type:"POST",url:"/ams/prize/share",data:{activityCode:e,t:(new Date).getTime()},success:t})}},42:function(e,t){function o(){return"zh-CN"==window.pageConfig.locale||"zh-CNQX"==window.pageConfig.locale}function n(){var e=location.hostname;if(!0===/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)||"localhost"===e)return e;var t=/([^]*).*/,o=e.match(t);if(void 0!==o&&null!==o&&(e=o[1]),void 0!==e&&null!==e){var n=e.split(".");n.length>1&&(e=n[n.length-2]+"."+n[n.length-1])}return"."+e}function i(){var e=location.pathname,t=e.indexOf("/",1);return e.substring(0,-1==t?10:t)}function a(){var e=window.locale.userProtocol||{},t={ysAgrType:10023,yhAgrType:134,country:"cn",store:"vmall",Service:e.huaweiService||"",ServiceDetail:e.huaweiServiceDetail||"",storePrivacy:e["huaweistore.privacy"]||"",storeUser:e["huaweistore.user"]||"",class:"china",bottonSNS:e.bottonSNShuawei||"",style2User:e["style2user.huawei"]||""};if(!o()){var n=window.pageConfig.areaCode,i=RegExp(/HW/);t.country="ove","RU"===n?(t.ysAgrType=10112,t.yhAgrType=268,t.country="ru",t.store="huaweistore",t.class="huawei"):n.match(i)?(t.ysAgrType=10112,t.yhAgrType=268,t.store="huaweistore",t.class="huawei"):(t.ysAgrType=10027,t.yhAgrType=139,t.store="hihonor",t.Service=e.honorService||"",t.ServiceDetail=e.honorServiceDetail||"",t.storePrivacy=e["honorstore.privacy"]||"",t.storeUser=e["honorstore.user"]||"",t.class="honor",t.bottonSNS=e.bottonSNShoner||"",t.style2User=e["style2user.honner"]||"")}return t}function s(){var e=pageConfig.locale.replace("cz-CZ","cs-CZ").replace("-","_").replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"zh_CN",t={portal:utils.getPortal(),lang:e,country:window.pageConfig.areaCode,saleinfoConfirm:function(){return"false"==m.isShowSaleInfoCfgFlag?"0":"true"==m.isShowSaleInfoCfgFlag?"1":void 0}()};utils.ajaxOpenAPI({type:"POST",url:"/mcp/user/transmitUserInfo",data:t,success:function(e){console.log("transmitUserInfo success")},errorFunction:function(e){console.log("transmitUserInfo error")}})}function l(){var e=window.locale.userProtocol,t=pageConfig.locale.replace("cz-CZ","cs-CZ").replace("-","_").replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"zh_CN",l=window.pageConfig.areaCode.replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"CN",d=a()||{},h={portal:utils.getPortal(),lang:t,country:window.pageConfig.areaCode,agrInfo:[{country:l,branchId:0,agrType:d.yhAgrType},{country:l,branchId:0,agrType:d.ysAgrType}],tokenType:2};utils.ajaxOpenAPI({type:"POST",url:"/mcp/agreement/queryAgreementSignLogs",data:h,timeout:1e4,success:function(a){if(a&&"0"==a.code&&a.success){var h=[{country:l,branchId:0,agrType:d.yhAgrType,isAgree:"true",language:e.language},{country:l,branchId:0,agrType:d.ysAgrType,isAgree:"true",language:e.language}],f=[{country:l,branchId:0,agrType:d.yhAgrType,isAgree:"true",language:e.language}],b=[{country:l,branchId:0,agrType:d.ysAgrType,isAgree:"true",language:e.language}],w="https://consumer.huawei.com/minisite/cloudservice/"+d.store+"/privacy-statement.htm?country="+l+"&language="+e.language,x="https://consumer.huawei.com/minisite/cloudservice/"+d.store+"/terms.htm?country="+l+"&language="+e.language,v="ol_box_4 signAgreementLogs "+l+" "+d.class+" "+t,y={boxclass:v,showTitle:!1,showOk:!0,okBtnName:e["button.accept"],showCancel:!0,cancelBtnName:e["button.cancel"]},C=i()||"/",_=n()||".vmall.com";if(a.signAgreementSwitch&&"OFF"==a.signAgreementSwitch)return o()?Tool.cookie.set("hasSigned","2",{expires:1}):Tool.cookie.set("hasSigned","2",{path:C,expires:1,domain:_}),!1;if(a.protocolBulletMode&&"2"===a.protocolBulletMode){if(o())return!1;var k=' <div class="signAgreementLogs_title">'+d.Service+'</div><div class="followingbox"><div class="">'+e.followingText+"</div><p><span>• </span>"+e["device.information"]+"</p><p>"+e["device.content"]+"</p><p><span>• </span>"+e["network.information"]+"</p><p>"+e["network.content"]+"</p><p><span>• </span>"+e["account.information"]+"</p><p>"+e["account.content"]+"</p><p><span>• </span>"+e["order.information"]+"</p><p>"+e["order.content"]+"</p><p><span>• </span>"+e["other.relevant.information"]+"</p><p>"+e["other.content"]+"</p></div>",S='<div class="privacycontent">'+e["style2.privacy.content"]+'<a href="'+w+'"   target="_blank">'+e["style2.privacy.href"]+"</a>"+e["full.stopstyle2.href"]+"</div>";y.boxclass+=" signAgreementLogsstyle2",y.okBtnName=e["button.next"];var A={portal:utils.getPortal(),country:window.pageConfig.areaCode,lang:t,version:111,systemConfigKeys:'["AGREEMENT_DATA_CONTROLLER"]'};utils.ajaxOpenAPI({type:"GET",url:"/mcp/querySysGlobalBEConfig",data:A,timeout:1e4,success:function(t){var o=t&&t.success&&t.systemConfigInfos&&t.systemConfigInfos.AGREEMENT_DATA_CONTROLLER&&t.systemConfigInfos.AGREEMENT_DATA_CONTROLLER.systemConfigValue||{};"{}"!=JSON.stringify(o)&&(S=o?'<div class="privacycontent">'+e["style2.privacy.variable"]+" "+o+e["full.stop.variable"]+" "+e["style2.privacy.content"]+' <a href="'+w+'"   target="_blank">'+e["style2.privacy.href"]+"</a>"+e["full.stopstyle2.href"]+"</div>":S),p(a,k,y,S,h)},errorFunction:function(e){p(a,k,y,S,h)},timeoutFunction:function(){p(a,k,y,S,h)}})}else{var k='<div class="signAgreementLogs_title">'+d.Service+'</div><div class="store_first">'+d.ServiceDetail+'<a href="'+x+'"  target="_blank">'+d.storeUser+"</a>"+e.dawn+'<a href="'+w+'"   target="_blank">'+d.storePrivacy+"</a>"+e["full.stopfirst"]+"</div>";if(a.signInfo&&a.signInfo.length>0){var T=a.signInfo;if(T[0].needSign&&T[1].needSign){if(m.type="3",k='<div class="signAgreementLogs_title">'+e["change.notice"]+'</div><div class="change_log">'+e["change.notice.detail"]+'</div><div  class="change_detail">'+e["detail.content"]+'<a href=" '+x+'"   target="_blank">'+d.storeUser+"</a>"+e["all.updatedawn"]+'<a href="'+w+'"   target="_blank">'+d.storePrivacy+"</a>"+e["full.stop.update"]+"</div>",o())y.height=76;else{y.boxclass+=" twoUpdate"}c(y,h),r(y,k),new utils.box(k,y).open()}else if(T[0].needSign&&T[0].agrType==d.ysAgrType||T[1].needSign&&T[1].agrType==d.ysAgrType){if(m.type="2",k='<div class="signAgreementLogs_title">'+e["privacy.change"]+'</div><div class="change_log">'+e["privacy.change.detail"]+'</div><div class="change_detail">'+e["detail.content"]+'<a href="'+w+'"   target="_blank">'+d.storePrivacy+"</a>"+e["full.stop.update"]+"</div>",o())y.height=56;else{var B=" ysUpdate";y.boxclass+=B}c(y,b),r(y,k),new utils.box(k,y).open()}else if(T[0].needSign&&T[0].agrType==d.yhAgrType||T[1].needSign&&T[1].agrType==d.yhAgrType){if(m.type="1",k='<div class="signAgreementLogs_title">'+e["service.change"]+'</div><div class="change_log">'+e["service.change.detail"]+'</div><div class="change_detail">'+e["detail.content"]+'<a href="'+x+'"   target="_blank">'+d.storeUser+"</a>"+e["full.stop.update"]+"</div>",o())y.height=56;else{var B=" ysUpdate";y.boxclass+=B}c(y,f),r(y,k),new utils.box(k,y).open()}$(".ol_box_4.signAgreementLogs").find(".box-close").remove()}else if(a.signInfo&&0===a.signInfo.length){if(m.type="0",void 0==a.marketingMessageSwitch){if(o())y.height=92;else{var E=" nosalesClass";y.boxclass+=E}c(y,h),r(y,k)}else{if(o()&&(y.height=130),"0"==a.marketingMessageSwitch){if(o())y.height=92;else{var E=" nosalesClass";y.boxclass+=E}m.isShowSaleInfoCfgFlag="null"}"2"==a.marketingMessageSwitch?(m.isShowSaleInfoCfgFlag="false",k+='<div class="marketing_box"><i class="isShowSaleInfoCfgCommon isShowSaleInfoCfg_false" data-isShowSaleInfoCfgFlag="true"></i><span>'+d.bottonSNS+"</span>","zh-CN"==window.pageConfig.locale&&(k+='<a href="https://sale.vmall.com/notification.html" class="hrefColor"  target="_blank">了解详情</a>'),k+="</div>"):"1"==a.marketingMessageSwitch&&(m.isShowSaleInfoCfgFlag="true",k+='<div class="marketing_box"><i class="isShowSaleInfoCfgCommon isShowSaleInfoCfg" data-isShowSaleInfoCfgFlag="true"></i><span>'+d.bottonSNS+"</span>","zh-CN"==window.pageConfig.locale&&(k+='<a href="https://sale.vmall.com/notification.html" class="hrefColor"  target="_blank">了解详情</a>'),k+="</div>"),y.onok=function(){g(),u(h),void 0!=a.marketingMessageSwitch&&s(),$(".ol_box_4.signAgreementLogs").hide(),$(".ol_box_mask").hide()},r(y,k)}new utils.box(k,y).open(),$(".ol_box_4.signAgreementLogs").find(".box-close").remove()}}}}})}function r(e,t){e.oncancel=function(){f(),$(".ol_box_4.signAgreementLogs").hide(),$(".ol_box_mask").hide(),d(t,e)}}function c(e,t){e.onok=function(){g(),u(t),$(".ol_box_4.signAgreementLogs").hide(),$(".ol_box_mask").hide()}}function p(e,t,o,n,i){var s="false",l=a()||{};if(t+=n,o.onok=function(){$(".ol_box_4.signAgreementLogs").hide(),$(".ol_box_mask").hide(),h(t,o,i,s)},o.oncancel=function(){$(".ol_box_4.signAgreementLogs").hide(),$(".ol_box_mask").hide(),d(t,o)},e.signInfo&&e.signInfo.length>0){for(var r=e.signInfo,c=0;c<r.length;c++)if(r[c].needSign){new utils.box(t,o).open();break}}else e.signInfo&&0===e.signInfo.length&&(e.marketingMessageSwitch&&"0"==e.marketingMessageSwitch?(s="true",m.isShowSaleInfoCfgFlag="null"):e.marketingMessageSwitch&&"1"==e.marketingMessageSwitch?(s="true",m.isShowSaleInfoCfgFlag="true",t+='<div class="marketing_box"><i class="isShowSaleInfoCfgCommon isShowSaleInfoCfg" data-isShowSaleInfoCfgFlag="true"></i><span>'+l.bottonSNS+"</span></div>"):e.marketingMessageSwitch&&"2"==e.marketingMessageSwitch&&(s="true",m.isShowSaleInfoCfgFlag="false",t+='<div class="marketing_box"><i class="isShowSaleInfoCfgCommon isShowSaleInfoCfg_false" data-isShowSaleInfoCfgFlag="false"></i><span>'+l.bottonSNS+"</span></div>"),new utils.box(t,o).open());$(".ol_box_4.signAgreementLogs").find(".box-close").remove()}function d(e,t){var o=window.locale.userProtocol,n=a()||{},i=window.pageConfig.areaCode.replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"CN",s='<div class="thinkAgain_content">'+o["conform.cancel.detail"]+"</div>",l="ol_box_4 thinkAgain "+i+" "+n.class,r={boxclass:l,showTitle:!1,showOk:!0,okBtnName:o["button.exit"],showCancel:!0,cancelBtnName:o["button.return"]};r.onok=function(){"zh-CN"===window.pageConfig.locale?utils.logout(window.location.href):window.location.href=domainMain+"/account/logout",$(".ol_box_4.thinkAgain").hide(),$(".ol_box_mask").hide()},r.oncancel=function(){$(".ol_box_4.thinkAgain").hide(),$(".ol_box_mask").hide(),new utils.box(e,t).open(),$(".ol_box_4.signAgreementLogs").find(".box-close").remove()},new utils.box(s,r).open(),$(".ol_box_4.thinkAgain").find(".box-close").remove()}function h(e,t,o,n){var i=window.locale.userProtocol,l=a()||{},r=window.pageConfig.areaCode.replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"CN",c="https://consumer.huawei.com/minisite/cloudservice/"+l.store+"/terms.htm?country="+r+"&language="+i.language,p=' <div class="signAgreementLogs_title">'+l.Service+'</div><div class="change_log">'+i["next.content"]+'</div><div class="change_detail">'+i["agree.usercontent"]+'<a href="'+c+'"   target="_blank">'+l.style2User+"</a>"+i["full.stopstyle2"]+"</div>",d="ol_box_4 signAgreementLogs "+r+" "+l.class+" ysUpdate next",h={boxclass:d,showTitle:!1,showOk:!0,okBtnName:i["button.accept"],showCancel:!0,cancelBtnName:i["button.disagree"]};h.onok=function(){u(o),"true"==n&&s(),$(".ol_box_4.signAgreementLogs").hide(),$(".ol_box_mask").hide()},h.oncancel=function(){$(".ol_box_4.signAgreementLogs").hide(),$(".ol_box_mask").hide(),new utils.box(e,t).open(),$(".ol_box_4.signAgreementLogs").find(".box-close").remove()},new utils.box(p,h).open(),$(".ol_box_4.signAgreementLogs").find(".box-close").remove()}function u(e){var t=pageConfig.locale.replace("cz-CZ","cs-CZ").replace("-","_").replace("_HW_B2C","").replace("_HN_B2C","").replace("_HW_B2B2C","").replace("_HN_B2B2C","").replace("HONOR","").replace("HW","").replace("QX","")||"zh_CN",a={portal:utils.getPortal(),lang:t,country:window.pageConfig.areaCode,signInfo:e,tokenType:2},s=i()||"/",l=n()||".vmall.com";utils.ajaxOpenAPI({type:"POST",url:"/mcp/agreement/signAgreement",data:a,timeout:1e4,timeoutFunction:function(){o()?Tool.cookie.set("hasSigned","1",{expires:1}):Tool.cookie.set("hasSigned","1",{path:s,expires:1,domain:l})},success:function(e){o()?Tool.cookie.set("hasSigned","1",{expires:1}):Tool.cookie.set("hasSigned","1",{path:s,expires:1,domain:l})},errorFunction:function(e){o()?Tool.cookie.set("hasSigned","1",{expires:1}):Tool.cookie.set("hasSigned","1",{path:s,expires:1,domain:l})}})}function g(){var e=$(".ol_box_4.signAgreementLogs").find(".box-ok"),t="";"0"==m.type?t="华为商城通知":"1"==m.type?t="服务协议变更通知":"2"==m.type?t="隐私声明更新":"3"==m.type&&(t="变更通知");var o="null";o="false"==m.isShowSaleInfoCfgFlag?"0":"true"==m.isShowSaleInfoCfgFlag?"1":"null",e.attr({"data-track":"true","data-eventid":300000701,"data-type":m.type,"data-name":t,"data-option":"agree","data-marketing":o,"data-click":"1"}).addClass("report_onok");var n=$(".ol_box_4.signAgreementLogs").find(".box-cancel");n.hasClass("report_oncancel")&&n.removeClass("report_oncancel")}function f(){var e=$(".ol_box_4.signAgreementLogs").find(".box-cancel"),t="";"0"==m.type?t="华为商城通知":"1"==m.type?t="服务协议变更通知":"2"==m.type?t="隐私声明更新":"3"==m.type&&(t="变更通知");var o="null";o="false"==m.isShowSaleInfoCfgFlag?"0":"true"==m.isShowSaleInfoCfgFlag?"1":"null",e.attr({"data-track":"true","data-eventid":300000701,"data-type":m.type,"data-name":t,"data-option":"disagree","data-marketing":o,"data-click":"1"}).addClass("report_oncancel");var n=$(".ol_box_4.signAgreementLogs").find(".box-ok");n.hasClass("report_onok")&&n.removeClass("report_onok")}var m={type:"",isShowSaleInfoCfg:"",isShowSaleInfoCfgFlag:"null"};$(document).on("click",".isShowSaleInfoCfgCommon",function(){var e=$(".ol_box_4.signAgreementLogs").find(".box-ok"),t=$(".ol_box_4.signAgreementLogs").find(".box-cancel"),o="null";$(this).hasClass("isShowSaleInfoCfg_false")?($(this).removeClass("isShowSaleInfoCfg_false").addClass("isShowSaleInfoCfg"),m.isShowSaleInfoCfgFlag="true",o="1"):$(this).hasClass("isShowSaleInfoCfg")&&($(this).removeClass("isShowSaleInfoCfg").addClass("isShowSaleInfoCfg_false"),m.isShowSaleInfoCfgFlag="false",o="0"),e.data("marketing",o),t.data("marketing",o)}),function(){utils.confirmIsLogin(function(e){if("CNQX"===window.pageConfig.areaCode||"DESIGN"==window.shopdcmode)return!1;var t=Tool.cookie.get("hasSigned");"1"!=t&&"2"!=t&&l()})}()},51:function(e,t,o){o(40),o(31),o(30),o(41),o(37),o(35),o(34),o(36),o(32),o(39),o(38),o(33),o(42)}});